<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
	<link href="../main.css" rel="stylesheet" type="text/css">
	<title>计算页</title>
</head>

<body>
	<h1>计算页</h1>
	<p>点击“文件”-->“新建功能页”--><a href='..\Menus\Menus_File.html#m_newcalc'>“新建计算页”</a>，可以创建计算页。在计算页中可自由输入表达式进行求值计算。</p>

	<h2>基本功能</h2>

	<h3>内置支持：</h3>
	<p>+、-、*、/：四则混合运算（*、/ 亦可写为 ×、÷）<br>
	^：乘方<br>
	%：百分号<br>
	单变量函数：lg, ln, exp, sqrt, sqr, rad, deg, sin, asin/arcsin, cos, acos/arccos, tg/tan, atan/arctan, cot, acot/arccot<br>
	双变量函数 log(x,y)：以 y 为底的 x 的对数。相当于 lgx/lgy。<br>
	&nbsp;&nbsp;&nbsp;&nbsp; round(x,y)（x 精确到 y 位小数）<br>
	整数计算：int(x)（对 x 取整）, \(整除), !（取余）<br>
	常数：pi，e<br>
	任意层括号嵌套。</p>

	<p>注意，以上数学符号均为半角符号，请勿输入全角。输入不区分大小写。表达式内／外的多余空格将会自动删除。</p>

	<h3>表达式示例：</h3>
	<p>(5+2)*(7-3)<br>
	3^2 - sin5<br>
	((15*9)^3 - ln20) + 12</p>

	<p>输入表达式后，按回车或"="号自动求值。<br>
	如对原表达式进行修改，修改完后按回车或"="号（在任何位置，不需到行末，也无需删除原结果）将重新求值。<br>
	如表达式存在语法错误或数值溢出，将在行尾显示出错信息。此时可回到前一行对原表达式进行修改，并按回车重新求值。</p>
	    
	<h2><a name="userfunctions"></a>自定义函数／变量</h2>

	<p>计算页除内置函数外，还支持自定义函数／变量。<br>
	自定义函数／变量分为两类，一类为全局函数／变量，在“选项”-->“扩展功能”--><a href='..\Options\Extensions\Opt_Calculator.html'>“计算页”</a>中进行设定，其有效范围为所有的计算页（包括普通笔记页中的嵌入式计算）。</p>
	
	<h3>示例：</h3>
	<p>a=3 <br>
	error(x,y)=(y-x)/y <br>
	DensityRound(d,h,m)=m*4/(pi*d^2*h) </p>

	<p>另一类为直接写在当前计算页中的自定义函数／变量，其作用域为当前计算页、定义之后。这类自定义函数／变量须以#开头。</p>
	
	<h3>示例：</h3>
	<p>#va=5<br>
	#myfunc(x,y)=x*y+va</p>

	<p>局部变量/函数可被任意重定义。例如原先在第三行设定 #va=5，随后做了些计算。随后在第12行设定 #va=8。则在第12行之后的计算将取 va=8 而非 va=5。（但若此时修改了第3至12行之间的计算式并作重计算，则在这些计算式中仍取 va=5。因局部变量仅对定义行之后的行有效）</p>
	
	<p>定义自定义函数／变量后，即可在表达式中随意使用。如输入：<br>
	myfunc(7.2,9)+DensityRound(12.7,2,128.6)</p>

	<p>回车后得到：<br>
	myfunc(7.2,9)+DensityRound(12.7,2,128.6) = 70.307591</p>

	<h2>其它特性</h2>

	<p>在计算页中输入 ? 并回车，可得到关于计算页所支持的运算符与内置函数／变量的简单帮助。</p>

	<p>输入 ?list 并回车，可列出全局自定义函数／变量及当前计算页的局部自定义函数／变量的清单。</p>

	<p>以 // 开头的行视为注释，不予求值计算。</p>
	
	<p>在输入表达式后，若使用 Shift_Enter 求值，则所得的计算结果将自动复制到下一新行，以便基于该计算结果进行新的计算。若使用 Ctrl_Enter 求值，则求值完成后不换行（这一特性是为了方便在求值后按 Tab 并以 // 起头在同一行中写入注释，或同一行中以 Tab 分隔进行多个求值计算）</p>
	
	<p>按 F9，将对整页内容从头至尾逐行进行重计算。适用于设定变量、使用该变量进行一系列计算后，再回到开头修改变量赋值并进行重计算的场合。</p>
	
	<a name="embededcalc"></a><p>软件支持在普通便笺页中的嵌入式计算。在普通便笺页中输入表达式后按 shift+回车，即可进行求值。若使用 Ctrl_Enter 求值，则求值完成后不换行。</p>

	<h2>相关选项</h2>

	<p>在“选项”-->“计算页”中，可设定计算结果的有效小数位数、三角运算的方式（弧度制／角度制）、自定义函数列表等。详见本帮助文档的“选项”-->“扩展功能”--><a href='..\Options\Extensions\Opt_Calculator.html'>“计算页”</a>章节。</p><br>

</body>
</html>
